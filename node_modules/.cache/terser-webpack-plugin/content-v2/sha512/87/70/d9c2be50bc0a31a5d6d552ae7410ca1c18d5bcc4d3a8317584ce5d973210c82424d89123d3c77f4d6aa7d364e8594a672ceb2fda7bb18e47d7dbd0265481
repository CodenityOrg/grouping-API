{"code":"!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var i in t)e.d(o,i,function(e){return t[e]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([function(t,e,n){\"use strict\";function o(t){return t&&\"object\"==typeof t&&\"default\"in t?t.default:t}function i(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function r(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.offsetParent}return!1}function a(t,e,n,o){return\"https://stamen-tiles.a.ssl.fastly.net/toner/\"+n+\"/\"+t+\"/\"+e+(2<=o?\"@2x\":\"\")+\".png\"}function s(t,e){return t/p(2,e)*360-180}function l(t,e){var n=Math.exp,o=h-2*h*t/p(2,e);return 180/h*Math.atan(.5*(n(o)-n(-o)))}function u(t,e){var n=i(t);return[e.clientX-n.x,e.clientY-n.y]}function c(t,e,n,o,i){return t&&0!==t.length?t.map(function(t){return e(n,o,i,t)+(1===t?\"\":\" \"+t+\"x\")}).join(\", \"):\"\"}var h=Math.PI,p=Math.pow,m=n(2),d=o(m),f=(o(n(3)),300),g=2,v=300,_=function(){},w=function(t,e){return(t+180)/360*p(2,e)},T=function(t,e){return(1-Math.log(Math.tan(t*h/180)+1/Math.cos(t*h/180))/h)/2*p(2,e)},x=[l(1024,10),l(0,10),s(0,10),s(1024,10)],S=\"undefined\"!=typeof window,M=S&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),y=S?window.requestAnimationFrame||window.setTimeout:function(t){return t()},z=S?window.cancelAnimationFrame||window.clearTimeout:function(){},E=function(t){function e(i){var a=Math.ceil,c=Math.sqrt;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var d=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,i));return d.updateWidthHeight=function(){if(d._containerRef){var t=d._containerRef.getBoundingClientRect();if(t&&0<t.width&&0<t.height)return d.setState({width:t.width,height:t.height}),!0}return!1},d.wa=function(t,e,n){return window.addEventListener(t,e,n)},d.wr=function(t,e){return window.removeEventListener(t,e)},d.bindMouseEvents=function(){d.wa(\"mousedown\",d.handleMouseDown),d.wa(\"mouseup\",d.handleMouseUp),d.wa(\"mousemove\",d.handleMouseMove)},d.bindTouchEvents=function(){d.wa(\"touchstart\",d.handleTouchStart,{passive:!1}),d.wa(\"touchmove\",d.handleTouchMove,{passive:!1}),d.wa(\"touchend\",d.handleTouchEnd,{passive:!1})},d.unbindMouseEvents=function(){d.wr(\"mousedown\",d.handleMouseDown),d.wr(\"mouseup\",d.handleMouseUp),d.wr(\"mousemove\",d.handleMouseMove)},d.unbindTouchEvents=function(){d.wr(\"touchstart\",d.handleTouchStart),d.wr(\"touchmove\",d.handleTouchMove),d.wr(\"touchend\",d.handleTouchEnd)},d.bindResizeEvent=function(){d.wa(\"resize\",d.updateWidthHeight)},d.unbindResizeEvent=function(){d.wr(\"resize\",d.updateWidthHeight)},d.bindWheelEvent=function(){d._containerRef&&d._containerRef.addEventListener(\"wheel\",d.handleWheel,{passive:!1})},d.unbindWheelEvent=function(){d._containerRef&&d._containerRef.removeEventListener(\"wheel\",d.handleWheel)},d.setCenterZoomTarget=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:f;if(d.props.animate&&(!n||d.distanceInScreens(t,e,d.state.center,d.state.zoom)<=d.props.animateMaxScreens)){if(d._isAnimating){z(d._animFrame);var r=d.animationStep(M()),a=r.centerStep,s=r.zoomStep;d._centerStart=a,d._zoomStart=s}else d._isAnimating=!0,d._centerStart=d.limitCenterAtZoom([d._lastCenter[0],d._lastCenter[1]],d._lastZoom),d._zoomStart=d._lastZoom,d.onAnimationStart();d._animationStart=M(),d._animationEnd=d._animationStart+i,o?(d._zoomAround=o,d._centerTarget=d.calculateZoomCenter(d._lastCenter,o,d._lastZoom,e)):(d._zoomAround=null,d._centerTarget=t),d._zoomTarget=e,d._animFrame=y(d.animate)}else if(d.stopAnimating(),o){var l=d.calculateZoomCenter(d._lastCenter,o,d._lastZoom,e);d.setCenterZoom(l,e,n)}else d.setCenterZoom(t,e,n)},d.distanceInScreens=function(t,e,n,o){var i=d.state,r=i.width,a=i.height,s=d.latLngToPixel(n,n,o),l=d.latLngToPixel(t,n,o),u=d.latLngToPixel(n,n,e),h=d.latLngToPixel(t,n,e),p=(S(s[0]-l[0])+S(u[0]-h[0]))/2/r,m=(S(s[1]-l[1])+S(u[1]-h[1]))/2/a;return c(p*p+m*m)},d.animationStep=function(t){var e=d._animationEnd-d._animationStart,n=function(t){return t*(2-t)}(m(t-d._animationStart,0)/e),o=(d._zoomTarget-d._zoomStart)*n,i=d._zoomStart+o;return d._zoomAround?{centerStep:d.calculateZoomCenter(d._centerStart,d._zoomAround,d._zoomStart,i),zoomStep:i}:{centerStep:[d._centerStart[0]+(d._centerTarget[0]-d._centerStart[0])*n,d._centerStart[1]+(d._centerTarget[1]-d._centerStart[1])*n],zoomStep:i}},d.animate=function(t){if(t>=d._animationEnd)d._isAnimating=!1,d.setCenterZoom(d._centerTarget,d._zoomTarget,!0),d.onAnimationStop();else{var e=d.animationStep(t),n=e.centerStep,o=e.zoomStep;d.setCenterZoom(n,o),d._animFrame=y(d.animate)}},d.stopAnimating=function(){d._isAnimating&&(d._isAnimating=!1,d.onAnimationStop(),z(d._animFrame))},d.limitCenterAtZoom=function(t,e){var n=d.getBoundsMinMax(e||d.state.zoom);return[m(h(isNaN(t[0])?d.state.center[0]:t[0],n[1]),n[0]),m(h(isNaN(t[1])?d.state.center[1]:t[1],n[3]),n[2])]},d.onAnimationStart=function(){d.props.onAnimationStart&&d.props.onAnimationStart()},d.onAnimationStop=function(){d.props.onAnimationStop&&d.props.onAnimationStop()},d.setCenterZoom=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=d.limitCenterAtZoom(t,e);if(o(d.state.zoom)!==o(e)){var r=d.tileValues(d.state),a=d.tileValues({center:i,zoom:e,width:d.state.width,height:d.state.height}),s=d.state.oldTiles;d.setState({oldTiles:s.filter(function(t){return t.roundedZoom!==r.roundedZoom}).concat(r)},_);for(var l={},u=a.tileMinX;u<=a.tileMaxX;u++)for(var c=a.tileMinY;c<=a.tileMaxY;c++)l[u+\"-\"+c+\"-\"+a.roundedZoom]=!1;d._loadTracker=l}d.setState({center:i,zoom:e},_);var h=d.props.zoom?d.props.zoom:d._lastZoom,p=d.props.center?d.props.center:d._lastCenter;(n||.001<S(h-e)||1e-5<S(p[0]-i[0])||1e-5<S(p[1]-i[1]))&&(d._lastZoom=e,d._lastCenter=[].concat(i),d.syncToProps(i,e))},d.getBoundsMinMax=function(t){if(\"center\"===d.props.limitBounds)return x;var e=d.state,n=e.width,o=e.height;if(d._minMaxCache&&d._minMaxCache[0]===t&&d._minMaxCache[1]===n&&d._minMaxCache[2]===o)return d._minMaxCache[3];var i=256*p(2,t),r=n>i?0:s(n/512,t),a=o>i?0:l(p(2,t)-o/512,t),u=n>i?0:s(p(2,t)-n/512,t),c=[a,o>i?0:l(o/512,t),r,u];return d._minMaxCache=[t,n,o,c],c},d.imageLoaded=function(t){d._loadTracker&&t in d._loadTracker&&(d._loadTracker[t]=!0,0===Object.keys(d._loadTracker).filter(function(t){return!d._loadTracker[t]}).length&&d.setState({oldTiles:[]},_))},d.handleTouchStart=function(t){if(d._containerRef&&(!t.target||!r(t.target,\"pigeon-drag-block\")))if(1===t.touches.length){var e=t.touches[0],n=u(d._containerRef,e);if(d.coordsInside(n)&&(d._touchStartPixel=[n],!d.props.twoFingerDrag))if(d.stopAnimating(),d._lastTap&&M()-d._lastTap<v){t.preventDefault();var o=d.pixelToLatLng(d._touchStartPixel[0]);d.setCenterZoomTarget(null,m(d.props.minZoom,h(d.state.zoom+1,d.props.maxZoom)),!1,o)}else d._lastTap=M(),d.trackMoveEvents(n)}else if(2===t.touches.length&&d._touchStartPixel){t.preventDefault(),d.stopTrackingMoveEvents(),(d.state.pixelDelta||d.state.zoomDelta)&&d.sendDeltaChange();var i=u(d._containerRef,t.touches[0]),a=u(d._containerRef,t.touches[1]);d._touchStartPixel=[i,a],d._touchStartMidPoint=[(i[0]+a[0])/2,(i[1]+a[1])/2],d._touchStartDistance=c(p(i[0]-a[0],2)+p(i[1]-a[1],2))}},d.handleTouchMove=function(t){if(d._containerRef){if(1===t.touches.length&&d._touchStartPixel){var e=t.touches[0],n=u(d._containerRef,e);d.props.twoFingerDrag?d.coordsInside(n)&&d.showWarning(\"fingers\"):(t.preventDefault(),d.trackMoveEvents(n),d.setState({pixelDelta:[n[0]-d._touchStartPixel[0][0],n[1]-d._touchStartPixel[0][1]]},_))}else if(2===t.touches.length&&d._touchStartPixel){var o=d.state,i=o.width,r=o.height,a=o.zoom;t.preventDefault();var s=u(d._containerRef,t.touches[0]),l=u(d._containerRef,t.touches[1]),f=[(s[0]+l[0])/2,(s[1]+l[1])/2],g=[f[0]-d._touchStartMidPoint[0],f[1]-d._touchStartMidPoint[1]],v=c(p(s[0]-l[0],2)+p(s[1]-l[1],2)),w=m(d.props.minZoom,h(d.props.maxZoom,a+Math.log2(v/d._touchStartDistance)))-a,T=p(2,w),x=[(i/2-f[0])*(T-1),(r/2-f[1])*(T-1)];d.setState({zoomDelta:w,pixelDelta:[x[0]+g[0]*T,x[1]+g[1]*T]},_)}}else d._touchStartPixel=null},d.handleTouchEnd=function(t){if(d._containerRef){if(d._touchStartPixel){var e=d.props,i=e.zoomSnap,r=e.twoFingerDrag,s=e.minZoom,l=e.maxZoom,c=d.state.zoomDelta,p=d.sendDeltaChange(),f=p.center,v=p.zoom;if(0===t.touches.length)if(r)d.clearWarning();else{var _=d._touchStartPixel[0],w=u(d._containerRef,t.changedTouches[0]);(S(_[0]-w[0])>g||S(_[1]-w[1])>g)&&(!d._secondTouchEnd||300<M()-d._secondTouchEnd)&&(t.preventDefault(),d.throwAfterMoving(w,f,v)),d._touchStartPixel=null,d._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var T=u(d._containerRef,t.touches[0]);if(d._secondTouchEnd=M(),d._touchStartPixel=[T],d.trackMoveEvents(T),i){var x,y=d._touchStartMidPoint?d.pixelToLatLng(d._touchStartMidPoint):d.state.center;x=r&&o(d.state.zoom)===o(d.state.zoom+c)?o(d.state.zoom):0<c?a(d.state.zoom):n(d.state.zoom);var z=m(s,h(x,l));d.setCenterZoomTarget(y,z,!1,y)}}}}else d._touchStartPixel=null},d.handleMouseDown=function(t){if(d._containerRef){var e=u(d._containerRef,t);if(0===t.button&&(!t.target||!r(t.target,\"pigeon-drag-block\"))&&d.coordsInside(e))if(d.stopAnimating(),t.preventDefault(),d._lastClick&&M()-d._lastClick<v){var n=d.pixelToLatLng(d._mousePosition||e);d.setCenterZoomTarget(null,m(d.props.minZoom,h(d.state.zoom+1,d.props.maxZoom)),!1,n)}else d._lastClick=M(),d._mouseDown=!0,d._dragStart=e,d.trackMoveEvents(e)}},d.handleMouseMove=function(t){d._containerRef&&(d._mousePosition=u(d._containerRef,t),d._mouseDown&&d._dragStart&&(d.trackMoveEvents(d._mousePosition),d.setState({pixelDelta:[d._mousePosition[0]-d._dragStart[0],d._mousePosition[1]-d._dragStart[1]]},_)))},d.handleMouseUp=function(t){if(d._containerRef){var e=d.state.pixelDelta;if(d._mouseDown){d._mouseDown=!1;var n=u(d._containerRef,t);if(!d.props.onClick||t.target&&r(t.target,\"pigeon-click-block\")||e&&!(S(e[0])+S(e[1])<=g)){var o=d.sendDeltaChange(),i=o.center,a=o.zoom;d.throwAfterMoving(n,i,a)}else{var s=d.pixelToLatLng(n);d.props.onClick({event:t,latLng:s,pixel:n}),d.setState({pixelDelta:null},_)}}}else d._mouseDown=!1},d.stopTrackingMoveEvents=function(){d._moveEvents=[]},d.trackMoveEvents=function(t){var e=M();(0===d._moveEvents.length||40<e-d._moveEvents[d._moveEvents.length-1].timestamp)&&(d._moveEvents.push({timestamp:e,coords:t}),2<d._moveEvents.length&&d._moveEvents.shift())},d.throwAfterMoving=function(t,e,n){var o=d.state,i=o.width,r=o.height,a=d.props.animate,u=M(),h=d._moveEvents.shift();if(h&&a){var p=m(u-h.timestamp,1),f=[(t[0]-h.coords[0])/p*120,(t[1]-h.coords[1])/p*120],g=c(f[0]*f[0]+f[1]*f[1]);if(40<g){var v=c(i*i+r*r),_=s(w(e[1],n)-f[0]/256,n),x=l(T(e[0],n)-f[1]/256,n);d.setCenterZoomTarget([x,_],n,!1,null,1500*g/v)}}d.stopTrackingMoveEvents()},d.sendDeltaChange=function(){var t=d.state,e=t.center,n=t.zoom,o=t.pixelDelta,i=t.zoomDelta,r=e[0],a=e[1];return(o||0!==i)&&(a=s(w(e[1],n+i)-(o?o[0]/256:0),n+i),r=l(T(e[0],n+i)-(o?o[1]/256:0),n+i),d.setCenterZoom([r,a],n+i)),d.setState({pixelDelta:null,zoomDelta:0},_),{center:d.limitCenterAtZoom([r,a],n+i),zoom:n+i}},d.getBounds=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.state.center,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.zoomPlusDelta(),n=d.state,o=n.width,i=n.height;return{ne:d.pixelToLatLng([o-1,0],t,e),sw:d.pixelToLatLng([0,i-1],t,e)}},d.syncToProps=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d.state.center,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.state.zoom,n=d.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:d.getBounds(t,e),initial:!d._boundsSynced}),d._boundsSynced=!0)},d.handleWheel=function(t){var e=d.props,n=e.mouseEvents,o=e.metaWheelZoom,i=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey){t.preventDefault();var a=-t.deltaY/150;if(!i&&d._zoomTarget){var s=d._zoomTarget-d.state.zoom;d.zoomAroundMouse(a+s,t)}else r?d.zoomAroundMouse(a,t):(!d._lastWheel||M()-d._lastWheel>f)&&(d._lastWheel=M(),d.zoomAroundMouse(a,t))}else d.showWarning(\"wheel\")},d.showWarning=function(t){d.state.showWarning&&d.state.warningType===t||d.setState({showWarning:!0,warningType:t}),d._warningClearTimeout&&window.clearTimeout(d._warningClearTimeout),d._warningClearTimeout=window.setTimeout(d.clearWarning,300)},d.clearWarning=function(){d.state.showWarning&&d.setState({showWarning:!1})},d.zoomAroundMouse=function(t,e){if(d._containerRef){var o=d.state.zoom,i=d.props,r=i.minZoom,s=i.maxZoom,l=i.zoomSnap;if(d._mousePosition=u(d._containerRef,e),!(!d._mousePosition||o===r&&0>t||o===s&&0<t)){var c=d.pixelToLatLng(d._mousePosition),p=o+t;l&&(p=0>t?n(p):a(p)),p=m(r,h(p,s)),d.setCenterZoomTarget(null,p,!1,c)}}},d.zoomPlusDelta=function(){return d.state.zoom+d.state.zoomDelta},d.pixelToLatLng=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.state.center,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.zoomPlusDelta(),o=d.state,i=o.width,r=o.height,a=o.pixelDelta,u=[(t[0]-i/2-(a?a[0]:0))/256,(t[1]-r/2-(a?a[1]:0))/256],c=w(e[1],n)+u[0],p=T(e[0],n)+u[1];return[m(x[0],h(x[1],l(p,n))),m(x[2],h(x[3],s(c,n)))]},d.latLngToPixel=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.state.center,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.zoomPlusDelta(),o=d.state,i=o.width,r=o.height,a=o.pixelDelta,s=w(e[1],n),l=T(e[0],n),u=w(t[1],n),c=T(t[0],n);return[256*(u-s)+i/2+(a?a[0]:0),256*(c-l)+r/2+(a?a[1]:0)]},d.calculateZoomCenter=function(t,e,n,o){var i=d.state,r=i.width,a=i.height,s=d.latLngToPixel(e,t,n),l=d.latLngToPixel(e,t,o),u=d.pixelToLatLng([r/2+l[0]-s[0],a/2+l[1]-s[1]],t,o);return d.limitCenterAtZoom(u,o)},d.setRef=function(t){d._containerRef=t},d.syncToProps=function(t,e){var n;return function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=this;clearTimeout(n),n=setTimeout(function(){return t.apply(a,i)},e)}}(d.syncToProps,60),d._mousePosition=null,d._dragStart=null,d._mouseDown=!1,d._moveEvents=[],d._lastClick=null,d._lastTap=null,d._touchStartPixel=null,d._isAnimating=!1,d._animationStart=null,d._animationEnd=null,d._centerTarget=null,d._zoomTarget=null,d._lastZoom=i.defaultZoom?i.defaultZoom:i.zoom,d._lastCenter=i.defaultCenter?i.defaultCenter:i.center,d._boundsSynced=!1,d._minMaxCache=null,d.state={zoom:d._lastZoom,center:d._lastCenter,width:i.width||i.defaultWidth,height:i.height||i.defaultHeight,zoomDelta:0,pixelDelta:null,oldTiles:[],showWarning:!1,warningType:null},d}var n=Math.floor,o=Math.round,h=Math.min,m=Math.max,S=Math.abs;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(!this.updateWidthHeight()&&y(this.updateWidthHeight),this.bindResizeEvent(),this.bindWheelEvent()),this.syncToProps()},e.prototype.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.props.width&&this.props.height||(this.unbindResizeEvent(),this.unbindWheelEvent())},e.prototype.componentDidUpdate=function(t){if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==t.center[0]||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var e=this._isAnimating?this._centerTarget:this.state.center,n=this._isAnimating?this._zoomTarget:this.state.zoom,o=this.props.center||e,i=this.props.zoom||n;(.001<S(i-n)||1e-4<S(o[0]-e[0])||1e-4<S(o[1]-e[1]))&&this.setCenterZoomTarget(o,i,!0)}},e.prototype.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(0>t[0]||0>t[1]||t[0]>=n||t[1]>=o)return!1;var r=this._containerRef,a=i(r),s=document.elementFromPoint(t[0]+a.x,t[1]+a.y);return r===s||r.contains(s)},e.prototype.tileValues=function(t){var e=t.center,i=t.zoom,r=t.pixelDelta,a=t.zoomDelta,s=t.width,l=t.height,u=o(i+(a||0)),c=p(2,i+(a||0)-u),h=s/c,m=l/c,d=w(e[1],u)-(r?r[0]/256/c:0),f=T(e[0],u)-(r?r[1]/256/c:0),g=h/2/256,v=m/2/256;return{tileMinX:n(d-g),tileMaxX:n(d+g),tileMinY:n(f-v),tileMaxY:n(f+v),tileCenterX:d,tileCenterY:f,roundedZoom:u,zoomDelta:a||0,scaleWidth:h,scaleHeight:m,scale:c}},e.prototype.renderTiles=function(){for(var t=this,e=this.state.oldTiles,n=this.props.dprs,o=this.props.provider||a,i=this.tileValues(this.state),r=i.tileMinX,s=i.tileMaxX,l=i.tileMinY,u=i.tileMaxY,f=i.tileCenterX,g=i.tileCenterY,v=i.roundedZoom,_=i.scaleWidth,w=i.scaleHeight,T=i.scale,x=[],M=0;M<e.length;M++){var y=e[M],z=y.roundedZoom-v;if(!(4<S(z)||0==z))for(var E=1/p(2,z),b=256*-(r-y.tileMinX*E),C=256*-(l-y.tileMinY*E),D=m(y.tileMinX,0),P=m(y.tileMinY,0),Z=h(y.tileMaxX,p(2,y.roundedZoom)-1),A=h(y.tileMaxY,p(2,y.roundedZoom)-1),L=D;L<=Z;L++)for(var W=P;W<=A;W++)x.push({key:L+\"-\"+W+\"-\"+y.roundedZoom,url:o(L,W,y.roundedZoom),srcSet:c(n,o,L,W,y.roundedZoom),left:b+256*(L-y.tileMinX)*E,top:C+256*(W-y.tileMinY)*E,width:256*E,height:256*E,active:!1})}for(var k=m(r,0),R=m(l,0),O=h(s,p(2,v)-1),F=h(u,p(2,v)-1),j=k;j<=O;j++)for(var Y=R;Y<=F;Y++)x.push({key:j+\"-\"+Y+\"-\"+v,url:o(j,Y,v),srcSet:c(n,o,j,Y,v),left:256*(j-r),top:256*(Y-l),width:256,height:256,active:!0});var X=this.props.boxClassname||\"\";return d.createElement(\"div\",{style:{width:_,height:w,position:\"absolute\",top:0,left:0,overflow:\"hidden\",willChange:\"transform\",transform:\"scale(\"+T+\", \"+T+\")\",transformOrigin:\"top left\"},className:X},d.createElement(\"div\",{style:{position:\"absolute\",width:256*(s-r+1),height:256*(u-l+1),willChange:\"transform\",transform:\"translate(\"+-(256*(f-r)-_/2)+\"px, \"+-(256*(g-l)-w/2)+\"px)\"}},x.map(function(e){return d.createElement(\"img\",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:\"lazy\",onLoad:function(){return t.imageLoaded(e.key)},style:{position:\"absolute\",left:e.left,top:e.top,willChange:\"transform\",transform:e.transform,transformOrigin:\"top left\",opacity:1}})})))},e.prototype.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,i=e.center,r={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:i,width:n,height:o},a=d.Children.map(this.props.children,function(e){if(!e)return null;if(\"string\"==typeof e.type)return e;var n=e.props,o=n.anchor,a=n.position,s=n.offset,l=t.latLngToPixel(o||a||i);return d.cloneElement(e,{left:l[0]-(s?s[0]:0),top:l[1]-(s?s[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,mapState:r})});return d.createElement(\"div\",{style:{position:\"absolute\",width:n,height:o,top:0,left:0}},a)},e.prototype.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:\"#0078A8\",textDecoration:\"none\"};return d.createElement(\"div\",{key:\"attr\",className:\"pigeon-attribution\",style:{position:\"absolute\",bottom:0,right:0,fontSize:\"11px\",padding:\"2px 5px\",background:\"rgba(255, 255, 255, 0.7)\",fontFamily:\"'Helvetica Neue', Helvetica, Arial, sans-serif\",color:\"#333\"}},!1===n?null:d.createElement(\"span\",null,n||d.createElement(\"a\",{href:\"https://pigeon-maps.js.org/\",style:o},\"Pigeon\"),\" | \"),e||d.createElement(\"span\",null,\" © \",d.createElement(\"a\",{href:\"https://www.openstreetmap.org/copyright\",style:o},\"OpenStreetMap\"),\" contributors\"))},e.prototype.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,i=t.twoFingerDragWarning,r=t.warningZIndex,a=this.state,s=a.showWarning,l=a.warningType,u=a.width,c=a.height;if(e&&n||o&&i){var h={position:\"absolute\",top:0,left:0,width:u,height:c,overflow:\"hidden\",pointerEvents:\"none\",opacity:s?100:0,transition:\"opacity 300ms\",background:\"rgba(0,0,0,0.5)\",color:\"#fff\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontSize:22,fontFamily:'\"Arial\", sans-serif',textAlign:\"center\",zIndex:r},p=\"undefined\"!=typeof window&&window.navigator&&0<=window.navigator.platform.toUpperCase().indexOf(\"MAC\")?\"⌘\":\"⊞\",m=\"fingers\"===l?i:n;return d.createElement(\"div\",{style:h},m.replace(\"META\",p))}return null},e.prototype.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,i=o.width,r=o.height,a={width:this.props.width?i:\"100%\",height:this.props.height?r:\"100%\",position:\"relative\",display:\"inline-block\",overflow:\"hidden\",background:\"#dddddd\",touchAction:e?n?\"pan-x pan-y\":\"none\":\"auto\"},s=!(!i||!r);return d.createElement(\"div\",{style:a,ref:this.setRef},s&&this.renderTiles(),s&&this.renderOverlays(),s&&this.renderAttribution(),s&&this.renderWarning())},e}(m.Component);E.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:\"Use META+wheel to zoom!\",twoFingerDrag:!1,twoFingerDragWarning:\"Use two fingers to move the map\",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:\"center\",dprs:[]},t.exports=E},function(t,e,n){\"use strict\";n.r(e);var o=n(0),i=n.n(o);console.log(i.a)},function(t){t.exports=react},function(t){t.exports=prop-types}]);","extractedComments":[]}